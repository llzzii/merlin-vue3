import{d as k,r as i,a_ as v,o as b,q as y,s as C,c as l,G as s,D as u,I as F,aS as g,ap as w,a$ as x,b0 as B}from"./index.efc8215b.js";const D={class:"file-list"},M=F("\u8BE6\u60C5"),K=k({__name:"file-list",setup(V){const t=i([]),o=i(!1),a=i(""),c=[{key:1,field:"key",title:"\u540D\u79F0",width:100,columnConfig:{fixed:"left"}},{key:4,title:"\u7C7B\u578B",field:"mimeType",width:100},{key:2,title:"\u5927\u5C0F",field:"fsize",width:100,columnConfig:{formatter:({cellValue:e})=>d(e)}},{key:3,title:"\u4E0A\u4F20\u65F6\u95F4",field:"putTime",width:100,columnConfig:{formatter:({cellValue:e})=>(console.log("\u{1F680} ~ file: file-list.vue ~ line 64 ~ cellValue",e),g(e/1e4).format("YYYY-MM-DD hh:mm:ss"))}},{title:"\u64CD\u4F5C",field:"operation",key:"operation",slots:{body:"operation"}}],{run:f,data:r,loading:T}=v(),d=e=>e>100*1024?(e/(1024*1024)).toFixed(2)+"M":(e/1024).toFixed(2)+"kb",m=e=>{const n="http://rfzdamvd3.hd-bkt.clouddn.com";a.value=n+"/"+e.key,o.value=!0},_=()=>{o.value=!1};return b(async()=>{var e;await f(),t.value=(e=r.value)==null?void 0:e.data.items,console.log("\u{1F680} ~ file: file-list.vue ~ line 37 ~ onMounted ~ d",t.value)}),(e,n)=>{const p=w;return y(),C("div",D,[l(u(x),{ref:"defaultTableWapper",columns:c,tableData:t.value,showPagination:!0},{operation:s(({column:Y,row:h})=>[l(p,{type:"link",onClick:$=>m(h)},{default:s(()=>[M]),_:2},1032,["onClick"])]),_:1},8,["tableData"]),l(u(B),{fileKey:a.value,visible:o.value,onChangeVisible:_},null,8,["fileKey","visible"])])}}});export{K as default};
