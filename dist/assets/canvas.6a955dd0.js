import{_ as T,b as O,c as $,k as J,b1 as Me,b2 as Ve,b3 as Re,b4 as we,l as U,d as Q,P as F,r as A,o as he,b5 as se,h as Te,a as de,b6 as W,e as Y,b7 as fe,i as Be,b8 as Ge,b9 as ve,ba as Ke,bb as ze,w as Pe,bc as We,bd as Ye,be as pe,bf as Xe,u as qe,bg as Je,$ as Qe,bh as Ze,bi as et,a7 as ge,n as tt,q as Z,s as ee,z as le,G as ne,D as P,C as ue,M as at,v as re,I as oe,ap as nt,ac as rt}from"./index.efc8215b.js";/* empty css               */var Fe=function(a,t){var e,n,i=t.attrs,r=i.included,s=i.vertical,l=i.style,u=i.class,d=i.length,c=i.offset,b=i.reverse;d<0&&(b=!b,d=Math.abs(d),c=100-c);var y=s?(e={},T(e,b?"top":"bottom","".concat(c,"%")),T(e,b?"bottom":"top","auto"),T(e,"height","".concat(d,"%")),e):(n={},T(n,b?"right":"left","".concat(c,"%")),T(n,b?"left":"right","auto"),T(n,"width","".concat(d,"%")),n),C=O(O({},l),y);return r?$("div",{class:u,style:C},null):null};Fe.inheritAttrs=!1;var Oe=Fe,it=function(a,t,e,n,i,r){Me(e?n>0:!0,"Slider","`Slider[step]` should be a positive number in order to make Slider[dots] work.");var s=Object.keys(t).map(parseFloat).sort(function(u,d){return u-d});if(e&&n)for(var l=i;l<=r;l+=n)s.indexOf(l)===-1&&s.push(l);return s},He=function(a,t){var e=t.attrs,n=e.prefixCls,i=e.vertical,r=e.reverse,s=e.marks,l=e.dots,u=e.step,d=e.included,c=e.lowerBound,b=e.upperBound,y=e.max,C=e.min,x=e.dotStyle,B=e.activeDotStyle,V=y-C,f=it(i,s,l,u,C,y).map(function(k){var S,p="".concat(Math.abs(k-C)/V*100,"%"),h=!d&&k===b||d&&k<=b&&k>=c,M=i?O(O({},x),T({},r?"top":"bottom",p)):O(O({},x),T({},r?"right":"left",p));h&&(M=O(O({},M),B));var v=J((S={},T(S,"".concat(n,"-dot"),!0),T(S,"".concat(n,"-dot-active"),h),T(S,"".concat(n,"-dot-reverse"),r),S));return $("span",{class:v,style:M,key:k},null)});return $("div",{class:"".concat(n,"-step")},[f])};He.inheritAttrs=!1;var st=He,$e=function(a,t){var e=t.attrs,n=t.slots,i=e.class,r=e.vertical,s=e.reverse,l=e.marks,u=e.included,d=e.upperBound,c=e.lowerBound,b=e.max,y=e.min,C=e.onClickLabel,x=Object.keys(l),B=n.mark,V=b-y,f=x.map(parseFloat).sort(function(k,S){return k-S}).map(function(k){var S,p=typeof l[k]=="function"?l[k]():l[k],h=Ve(p)==="object"&&!Re(p),M=h?p.label:p;if(!M&&M!==0)return null;B&&(M=B({point:k,label:M}));var v=!u&&k===d||u&&k<=d&&k>=c,H=J((S={},T(S,"".concat(i,"-text"),!0),T(S,"".concat(i,"-text-active"),v),S)),L=T({marginBottom:"-50%"},s?"top":"bottom","".concat((k-y)/V*100,"%")),g=T({transform:"translateX(".concat(s?"50%":"-50%",")"),msTransform:"translateX(".concat(s?"50%":"-50%",")")},s?"right":"left","".concat((k-y)/V*100,"%")),R=r?L:g,E=h?O(O({},R),p.style):R,G=T({},we?"onTouchstartPassive":"onTouchstart",function(j){return C(j,k)});return $("span",U({class:H,style:E,key:k,onMousedown:function(I){return C(I,k)}},G),[M])});return $("div",{class:i},[f])};$e.inheritAttrs=!1;var ot=$e,Le=Q({name:"Handle",inheritAttrs:!1,props:{prefixCls:String,vertical:{type:Boolean,default:void 0},offset:Number,disabled:{type:Boolean,default:void 0},min:Number,max:Number,value:Number,tabindex:F.oneOfType([F.number,F.string]),reverse:{type:Boolean,default:void 0},ariaLabel:String,ariaLabelledBy:String,ariaValueTextFormatter:Function,onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function}},setup:function(a,t){var e=t.attrs,n=t.emit,i=t.expose,r=A(!1),s=A(),l=function(){document.activeElement===s.value&&(r.value=!0)},u=function(f){r.value=!1,n("blur",f)},d=function(){r.value=!1},c=function(){var f;(f=s.value)===null||f===void 0||f.focus()},b=function(){var f;(f=s.value)===null||f===void 0||f.blur()},y=function(){r.value=!0,c()},C=function(f){f.preventDefault(),c(),n("mousedown",f)};i({focus:c,blur:b,clickFocus:y,ref:s});var x=null;he(function(){x=se(document,"mouseup",l)}),Te(function(){x==null||x.remove()});var B=de(function(){var V,f,k=a.vertical,S=a.offset,p=a.reverse;return k?(V={},T(V,p?"top":"bottom","".concat(S,"%")),T(V,p?"bottom":"top","auto"),T(V,"transform",p?null:"translateY(+50%)"),V):(f={},T(f,p?"right":"left","".concat(S,"%")),T(f,p?"left":"right","auto"),T(f,"transform","translateX(".concat(p?"+":"-","50%)")),f)});return function(){var V=a.prefixCls,f=a.disabled,k=a.min,S=a.max,p=a.value,h=a.tabindex,M=a.ariaLabel,v=a.ariaLabelledBy,H=a.ariaValueTextFormatter,L=a.onMouseenter,g=a.onMouseleave,R=J(e.class,T({},"".concat(V,"-handle-click-focused"),r.value)),E={"aria-valuemin":k,"aria-valuemax":S,"aria-valuenow":p,"aria-disabled":!!f},G=[e.style,B.value],j=h||0;(f||h===null)&&(j=null);var I;H&&(I=H(p));var ae=O(O(O(O({},e),{role:"slider",tabindex:j}),E),{class:R,onBlur:u,onKeydown:d,onMousedown:C,onMouseenter:L,onMouseleave:g,ref:s,style:G});return $("div",U(U({},ae),{},{"aria-label":M,"aria-labelledby":v,"aria-valuetext":I}),null)}}});function ce(o,a){try{return Object.keys(a).some(function(t){return o.target===a[t].ref})}catch{return!1}}function Ne(o,a){var t=a.min,e=a.max;return o<t||o>e}function be(o){return o.touches.length>1||o.type.toLowerCase()==="touchend"&&o.touches.length>0}function ye(o,a){var t=a.marks,e=a.step,n=a.min,i=a.max,r=Object.keys(t).map(parseFloat);if(e!==null){var s=Math.pow(10,_e(e)),l=Math.floor((i*s-n*s)/(e*s)),u=Math.min((o-n)/e,l),d=Math.round(u)*e+n;r.push(d)}var c=r.map(function(b){return Math.abs(o-b)});return r[c.indexOf(Math.min.apply(Math,Y(c)))]}function _e(o){var a=o.toString(),t=0;return a.indexOf(".")>=0&&(t=a.length-a.indexOf(".")-1),t}function xe(o,a){var t=1;return window.visualViewport&&(t=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(o?a.clientY:a.pageX)/t}function ke(o,a){var t=1;return window.visualViewport&&(t=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(o?a.touches[0].clientY:a.touches[0].pageX)/t}function Ce(o,a){var t=a.getBoundingClientRect();return o?t.top+t.height*.5:window.pageXOffset+t.left+t.width*.5}function me(o,a){var t=a.max,e=a.min;return o<=e?e:o>=t?t:o}function De(o,a){var t=a.step,e=isFinite(ye(o,a))?ye(o,a):0;return t===null?e:parseFloat(e.toFixed(_e(t)))}function te(o){o.stopPropagation(),o.preventDefault()}function lt(o,a,t){var e={increase:function(s,l){return s+l},decrease:function(s,l){return s-l}},n=e[o](Object.keys(t.marks).indexOf(JSON.stringify(a)),1),i=Object.keys(t.marks)[n];return t.step?e[o](a,t.step):!!Object.keys(t.marks).length&&!!t.marks[i]?t.marks[i]:a}function Ee(o,a,t){var e="increase",n="decrease",i=e;switch(o.keyCode){case W.UP:i=a&&t?n:e;break;case W.RIGHT:i=!a&&t?n:e;break;case W.DOWN:i=a&&t?e:n;break;case W.LEFT:i=!a&&t?e:n;break;case W.END:return function(r,s){return s.max};case W.HOME:return function(r,s){return s.min};case W.PAGE_UP:return function(r,s){return r+s.step*2};case W.PAGE_DOWN:return function(r,s){return r-s.step*2};default:return}return function(r,s){return lt(i,r,s)}}var ut=globalThis&&globalThis.__rest||function(o,a){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&a.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)a.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t};function q(){}function Ae(o){var a={id:String,min:Number,max:Number,step:Number,marks:F.object,included:{type:Boolean,default:void 0},prefixCls:String,disabled:{type:Boolean,default:void 0},handle:Function,dots:{type:Boolean,default:void 0},vertical:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},minimumTrackStyle:F.object,maximumTrackStyle:F.object,handleStyle:F.oneOfType([F.object,F.arrayOf(F.object)]),trackStyle:F.oneOfType([F.object,F.arrayOf(F.object)]),railStyle:F.object,dotStyle:F.object,activeDotStyle:F.object,autofocus:{type:Boolean,default:void 0},draggableTrack:{type:Boolean,default:void 0}};return Q({name:"CreateSlider",mixins:[fe,o],inheritAttrs:!1,slots:["mark"],props:Be(a,{prefixCls:"rc-slider",min:0,max:100,step:1,marks:{},included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),emits:["change","blur","focus"],data:function(){var e=this.step,n=this.max,i=this.min,r=isFinite(n-i)?(n-i)%e===0:!0;return Me(e&&Math.floor(e)===e?r:!0,"Slider[max] - Slider[min] (".concat(n-i,") should be a multiple of Slider[step] (").concat(e,")")),this.handlesRefs={},{}},mounted:function(){var e=this;this.$nextTick(function(){e.document=e.sliderRef&&e.sliderRef.ownerDocument;var n=e.autofocus,i=e.disabled;n&&!i&&e.focus()})},beforeUnmount:function(){var e=this;this.$nextTick(function(){e.removeDocumentEvents()})},methods:{defaultHandle:function(e){var n=e.index;e.directives;var i=e.className,r=e.style,s=ut(e,["index","directives","className","style"]);if(delete s.dragging,s.value===null)return null;var l=O(O({},s),{class:i,style:r,key:n});return $(Le,l,null)},onDown:function(e,n){var i=n,r=this.$props,s=r.draggableTrack,l=r.vertical,u=this.$data.bounds,d=s&&this.positionGetValue?this.positionGetValue(i)||[]:[],c=ce(e,this.handlesRefs);if(this.dragTrack=s&&u.length>=2&&!c&&!d.map(function(y,C){var x=C?!0:y>=u[C];return C===d.length-1?y<=u[C]:x}).some(function(y){return!y}),this.dragTrack)this.dragOffset=i,this.startBounds=Y(u);else{if(!c)this.dragOffset=0;else{var b=Ce(l,e.target);this.dragOffset=i-b,i=b}this.onStart(i)}},onMouseDown:function(e){if(e.button===0){this.removeDocumentEvents();var n=this.$props.vertical,i=xe(n,e);this.onDown(e,i),this.addDocumentMouseEvents()}},onTouchStart:function(e){if(!be(e)){var n=this.vertical,i=ke(n,e);this.onDown(e,i),this.addDocumentTouchEvents(),te(e)}},onFocus:function(e){var n=this.vertical;if(ce(e,this.handlesRefs)&&!this.dragTrack){var i=Ce(n,e.target);this.dragOffset=0,this.onStart(i),te(e),this.$emit("focus",e)}},onBlur:function(e){this.dragTrack||this.onEnd(),this.$emit("blur",e)},onMouseUp:function(){this.handlesRefs[this.prevMovedHandleIndex]&&this.handlesRefs[this.prevMovedHandleIndex].clickFocus()},onMouseMove:function(e){if(!this.sliderRef){this.onEnd();return}var n=xe(this.vertical,e);this.onMove(e,n-this.dragOffset,this.dragTrack,this.startBounds)},onTouchMove:function(e){if(be(e)||!this.sliderRef){this.onEnd();return}var n=ke(this.vertical,e);this.onMove(e,n-this.dragOffset,this.dragTrack,this.startBounds)},onKeyDown:function(e){this.sliderRef&&ce(e,this.handlesRefs)&&this.onKeyboard(e)},onClickMarkLabel:function(e,n){var i=this;e.stopPropagation(),this.onChange({sValue:n}),this.setState({sValue:n},function(){return i.onEnd(!0)})},getSliderStart:function(){var e=this.sliderRef,n=this.vertical,i=this.reverse,r=e.getBoundingClientRect();return n?i?r.bottom:r.top:window.pageXOffset+(i?r.right:r.left)},getSliderLength:function(){var e=this.sliderRef;if(!e)return 0;var n=e.getBoundingClientRect();return this.vertical?n.height:n.width},addDocumentTouchEvents:function(){this.onTouchMoveListener=se(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=se(this.document,"touchend",this.onEnd)},addDocumentMouseEvents:function(){this.onMouseMoveListener=se(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=se(this.document,"mouseup",this.onEnd)},removeDocumentEvents:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},focus:function(){var e;this.$props.disabled||(e=this.handlesRefs[0])===null||e===void 0||e.focus()},blur:function(){var e=this;this.$props.disabled||Object.keys(this.handlesRefs).forEach(function(n){var i,r;(r=(i=e.handlesRefs[n])===null||i===void 0?void 0:i.blur)===null||r===void 0||r.call(i)})},calcValue:function(e){var n=this.vertical,i=this.min,r=this.max,s=Math.abs(Math.max(e,0)/this.getSliderLength()),l=n?(1-s)*(r-i)+i:s*(r-i)+i;return l},calcValueByPos:function(e){var n=this.reverse?-1:1,i=n*(e-this.getSliderStart()),r=this.trimAlignValue(this.calcValue(i));return r},calcOffset:function(e){var n=this.min,i=this.max,r=(e-n)/(i-n);return Math.max(0,r*100)},saveSlider:function(e){this.sliderRef=e},saveHandle:function(e,n){this.handlesRefs[e]=n}},render:function(){var e,n=this.prefixCls,i=this.marks,r=this.dots,s=this.step,l=this.included,u=this.disabled,d=this.vertical,c=this.reverse,b=this.min,y=this.max,C=this.maximumTrackStyle,x=this.railStyle,B=this.dotStyle,V=this.activeDotStyle,f=this.id,k=this.$attrs,S=k.class,p=k.style,h=this.renderSlider(),M=h.tracks,v=h.handles,H=J(n,S,(e={},T(e,"".concat(n,"-with-marks"),Object.keys(i).length),T(e,"".concat(n,"-disabled"),u),T(e,"".concat(n,"-vertical"),d),e)),L={vertical:d,marks:i,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:y,min:b,reverse:c,class:"".concat(n,"-mark"),onClickLabel:u?q:this.onClickMarkLabel},g=T({},we?"onTouchstartPassive":"onTouchstart",u?q:this.onTouchStart);return $("div",U(U({id:f,ref:this.saveSlider,tabindex:"-1",class:H},g),{},{onMousedown:u?q:this.onMouseDown,onMouseup:u?q:this.onMouseUp,onKeydown:u?q:this.onKeyDown,onFocus:u?q:this.onFocus,onBlur:u?q:this.onBlur,style:p}),[$("div",{class:"".concat(n,"-rail"),style:O(O({},C),x)},null),M,$(st,{prefixCls:n,vertical:d,reverse:c,marks:i,dots:r,step:s,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:y,min:b,dotStyle:B,activeDotStyle:V},null),v,$(ot,L,{mark:this.$slots.mark}),Ge(this)])}})}var dt=Q({name:"Slider",mixins:[fe],inheritAttrs:!1,props:{defaultValue:Number,value:Number,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},tabindex:F.oneOfType([F.number,F.string]),reverse:{type:Boolean,default:void 0},min:Number,max:Number,ariaLabelForHandle:String,ariaLabelledByForHandle:String,ariaValueTextFormatterForHandle:String,startPoint:Number},emits:["beforeChange","afterChange","change"],data:function(){var a=this.defaultValue!==void 0?this.defaultValue:this.min,t=this.value!==void 0?this.value:a;return{sValue:this.trimAlignValue(t),dragging:!1}},watch:{value:{handler:function(a){this.setChangeValue(a)},deep:!0},min:function(){var a=this.sValue;this.setChangeValue(a)},max:function(){var a=this.sValue;this.setChangeValue(a)}},methods:{setChangeValue:function(a){var t=a!==void 0?a:this.sValue,e=this.trimAlignValue(t,this.$props);e!==this.sValue&&(this.setState({sValue:e}),Ne(t,this.$props)&&this.$emit("change",e))},onChange:function(a){var t=!ve(this,"value"),e=a.sValue>this.max?O(O({},a),{sValue:this.max}):a;t&&this.setState(e);var n=e.sValue;this.$emit("change",n)},onStart:function(a){this.setState({dragging:!0});var t=this.sValue;this.$emit("beforeChange",t);var e=this.calcValueByPos(a);this.startValue=e,this.startPosition=a,e!==t&&(this.prevMovedHandleIndex=0,this.onChange({sValue:e}))},onEnd:function(a){var t=this.dragging;this.removeDocumentEvents(),(t||a)&&this.$emit("afterChange",this.sValue),this.setState({dragging:!1})},onMove:function(a,t){te(a);var e=this.sValue,n=this.calcValueByPos(t);n!==e&&this.onChange({sValue:n})},onKeyboard:function(a){var t=this.$props,e=t.reverse,n=t.vertical,i=Ee(a,n,e);if(i){te(a);var r=this.sValue,s=i(r,this.$props),l=this.trimAlignValue(s);if(l===r)return;this.onChange({sValue:l}),this.$emit("afterChange",l),this.onEnd()}},getLowerBound:function(){var a=this.$props.startPoint||this.$props.min;return this.$data.sValue>a?a:this.$data.sValue},getUpperBound:function(){return this.$data.sValue<this.$props.startPoint?this.$props.startPoint:this.$data.sValue},trimAlignValue:function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a===null)return null;var e=O(O({},this.$props),t),n=me(a,e);return De(n,e)},getTrack:function(a){var t=a.prefixCls,e=a.reverse,n=a.vertical,i=a.included,r=a.minimumTrackStyle,s=a.mergedTrackStyle,l=a.length,u=a.offset;return $(Oe,{class:"".concat(t,"-track"),vertical:n,included:i,offset:u,reverse:e,length:l,style:O(O({},r),s)},null)},renderSlider:function(){var a=this,t=this.prefixCls,e=this.vertical,n=this.included,i=this.disabled,r=this.minimumTrackStyle,s=this.trackStyle,l=this.handleStyle,u=this.tabindex,d=this.ariaLabelForHandle,c=this.ariaLabelledByForHandle,b=this.ariaValueTextFormatterForHandle,y=this.min,C=this.max,x=this.startPoint,B=this.reverse,V=this.handle,f=this.defaultHandle,k=V||f,S=this.sValue,p=this.dragging,h=this.calcOffset(S),M=k({class:"".concat(t,"-handle"),prefixCls:t,vertical:e,offset:h,value:S,dragging:p,disabled:i,min:y,max:C,reverse:B,index:0,tabindex:u,ariaLabel:d,ariaLabelledBy:c,ariaValueTextFormatter:b,style:l[0]||l,ref:function(g){return a.saveHandle(0,g)},onFocus:this.onFocus,onBlur:this.onBlur}),v=x!==void 0?this.calcOffset(x):0,H=s[0]||s;return{tracks:this.getTrack({prefixCls:t,reverse:B,vertical:e,included:n,offset:v,minimumTrackStyle:r,mergedTrackStyle:H,length:h-v}),handles:M}}}}),ct=Ae(dt),ie=function(a){var t=a.value,e=a.handle,n=a.bounds,i=a.props,r=i.allowCross,s=i.pushable,l=Number(s),u=me(t,i),d=u;return!r&&e!=null&&n!==void 0&&(e>0&&u<=n[e-1]+l&&(d=n[e-1]+l),e<n.length-1&&u>=n[e+1]-l&&(d=n[e+1]-l)),De(d,i)},vt={defaultValue:F.arrayOf(F.number),value:F.arrayOf(F.number),count:Number,pushable:Ke(F.oneOfType([F.looseBool,F.number])),allowCross:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},tabindex:F.arrayOf(F.number),prefixCls:String,min:Number,max:Number,autofocus:{type:Boolean,default:void 0},ariaLabelGroupForHandles:Array,ariaLabelledByGroupForHandles:Array,ariaValueTextFormatterGroupForHandles:Array,draggableTrack:{type:Boolean,default:void 0}},ht=Q({name:"Range",mixins:[fe],inheritAttrs:!1,props:Be(vt,{count:1,allowCross:!0,pushable:!1,tabindex:[],draggableTrack:!1,ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]}),emits:["beforeChange","afterChange","change"],displayName:"Range",data:function(){var a=this,t=this.count,e=this.min,n=this.max,i=Array.apply(void 0,Y(Array(t+1))).map(function(){return e}),r=ve(this,"defaultValue")?this.defaultValue:i,s=this.value;s===void 0&&(s=r);var l=s.map(function(d,c){return ie({value:d,handle:c,props:a.$props})}),u=l[0]===n?0:l.length-1;return{sHandle:null,recent:u,bounds:l}},watch:{value:{handler:function(a){var t=this.bounds;this.setChangeValue(a||t)},deep:!0},min:function(){var a=this.value;this.setChangeValue(a||this.bounds)},max:function(){var a=this.value;this.setChangeValue(a||this.bounds)}},methods:{setChangeValue:function(a){var t=this,e=this.bounds,n=a.map(function(r,s){return ie({value:r,handle:s,bounds:e,props:t.$props})});if(e.length===n.length){if(n.every(function(r,s){return r===e[s]}))return null}else n=a.map(function(r,s){return ie({value:r,handle:s,props:t.$props})});if(this.setState({bounds:n}),a.some(function(r){return Ne(r,t.$props)})){var i=a.map(function(r){return me(r,t.$props)});this.$emit("change",i)}},onChange:function(a){var t=!ve(this,"value");if(t)this.setState(a);else{var e={};["sHandle","recent"].forEach(function(r){a[r]!==void 0&&(e[r]=a[r])}),Object.keys(e).length&&this.setState(e)}var n=O(O({},this.$data),a),i=n.bounds;this.$emit("change",i)},positionGetValue:function(a){var t=this.getValue(),e=this.calcValueByPos(a),n=this.getClosestBound(e),i=this.getBoundNeedMoving(e,n),r=t[i];if(e===r)return null;var s=Y(t);return s[i]=e,s},onStart:function(a){var t=this.bounds;this.$emit("beforeChange",t);var e=this.calcValueByPos(a);this.startValue=e,this.startPosition=a;var n=this.getClosestBound(e);this.prevMovedHandleIndex=this.getBoundNeedMoving(e,n),this.setState({sHandle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var i=t[this.prevMovedHandleIndex];if(e!==i){var r=Y(t);r[this.prevMovedHandleIndex]=e,this.onChange({bounds:r})}},onEnd:function(a){var t=this.sHandle;this.removeDocumentEvents(),t||(this.dragTrack=!1),(t!==null||a)&&this.$emit("afterChange",this.bounds),this.setState({sHandle:null})},onMove:function(a,t,e,n){te(a);var i=this.$data,r=this.$props,s=r.max||100,l=r.min||0;if(e){var u=r.vertical?-t:t;u=r.reverse?-u:u;var d=s-Math.max.apply(Math,Y(n)),c=l-Math.min.apply(Math,Y(n)),b=Math.min(Math.max(u/(this.getSliderLength()/100),c),d),y=n.map(function(f){return Math.floor(Math.max(Math.min(f+b,s),l))});i.bounds.map(function(f,k){return f===y[k]}).some(function(f){return!f})&&this.onChange({bounds:y});return}var C=this.bounds,x=this.sHandle,B=this.calcValueByPos(t),V=C[x];B!==V&&this.moveTo(B)},onKeyboard:function(a){var t=this.$props,e=t.reverse,n=t.vertical,i=Ee(a,n,e);if(i){te(a);var r=this.bounds,s=this.sHandle,l=r[s===null?this.recent:s],u=i(l,this.$props),d=ie({value:u,handle:s,bounds:r,props:this.$props});if(d===l)return;var c=!0;this.moveTo(d,c)}},getClosestBound:function(a){for(var t=this.bounds,e=0,n=1;n<t.length-1;n+=1)a>=t[n]&&(e=n);return Math.abs(t[e+1]-a)<Math.abs(t[e]-a)&&(e+=1),e},getBoundNeedMoving:function(a,t){var e=this.bounds,n=this.recent,i=t,r=e[t+1]===e[t];return r&&e[n]===e[t]&&(i=n),r&&a!==e[t+1]&&(i=a<e[t+1]?t:t+1),i},getLowerBound:function(){return this.bounds[0]},getUpperBound:function(){var a=this.bounds;return a[a.length-1]},getPoints:function(){var a=this.marks,t=this.step,e=this.min,n=this.max,i=this.internalPointsCache;if(!i||i.marks!==a||i.step!==t){var r=O({},a);if(t!==null)for(var s=e;s<=n;s+=t)r[s]=s;var l=Object.keys(r).map(parseFloat);l.sort(function(u,d){return u-d}),this.internalPointsCache={marks:a,step:t,points:l}}return this.internalPointsCache.points},moveTo:function(a,t){var e=this,n=Y(this.bounds),i=this.sHandle,r=this.recent,s=i===null?r:i;n[s]=a;var l=s;this.$props.pushable!==!1?this.pushSurroundingHandles(n,l):this.$props.allowCross&&(n.sort(function(u,d){return u-d}),l=n.indexOf(a)),this.onChange({recent:l,sHandle:l,bounds:n}),t&&(this.$emit("afterChange",n),this.setState({},function(){e.handlesRefs[l].focus()}),this.onEnd())},pushSurroundingHandles:function(a,t){var e=a[t],n=this.pushable,i=Number(n),r=0;if(a[t+1]-e<i&&(r=1),e-a[t-1]<i&&(r=-1),r!==0){var s=t+r,l=r*(a[s]-e);this.pushHandle(a,s,r,i-l)||(a[t]=a[s]-r*i)}},pushHandle:function(a,t,e,n){for(var i=a[t],r=a[t];e*(r-i)<n;){if(!this.pushHandleOnePoint(a,t,e))return a[t]=i,!1;r=a[t]}return!0},pushHandleOnePoint:function(a,t,e){var n=this.getPoints(),i=n.indexOf(a[t]),r=i+e;if(r>=n.length||r<0)return!1;var s=t+e,l=n[r],u=this.pushable,d=Number(u),c=e*(a[s]-l);return this.pushHandle(a,s,e,d-c)?(a[t]=l,!0):!1},trimAlignValue:function(a){var t=this.sHandle,e=this.bounds;return ie({value:a,handle:t,bounds:e,props:this.$props})},ensureValueNotConflict:function(a,t,e){var n=e.allowCross,i=e.pushable,r=this.$data||{},s=r.bounds;if(a=a===void 0?r.sHandle:a,i=Number(i),!n&&a!=null&&s!==void 0){if(a>0&&t<=s[a-1]+i)return s[a-1]+i;if(a<s.length-1&&t>=s[a+1]-i)return s[a+1]-i}return t},getTrack:function(a){var t=a.bounds,e=a.prefixCls,n=a.reverse,i=a.vertical,r=a.included,s=a.offsets,l=a.trackStyle;return t.slice(0,-1).map(function(u,d){var c,b=d+1,y=J((c={},T(c,"".concat(e,"-track"),!0),T(c,"".concat(e,"-track-").concat(b),!0),c));return $(Oe,{class:y,vertical:i,reverse:n,included:r,offset:s[b-1],length:s[b]-s[b-1],style:l[d],key:b},null)})},renderSlider:function(){var a=this,t=this.sHandle,e=this.bounds,n=this.prefixCls,i=this.vertical,r=this.included,s=this.disabled,l=this.min,u=this.max,d=this.reverse,c=this.handle,b=this.defaultHandle,y=this.trackStyle,C=this.handleStyle,x=this.tabindex,B=this.ariaLabelGroupForHandles,V=this.ariaLabelledByGroupForHandles,f=this.ariaValueTextFormatterGroupForHandles,k=c||b,S=e.map(function(M){return a.calcOffset(M)}),p="".concat(n,"-handle"),h=e.map(function(M,v){var H,L=x[v]||0;(s||x[v]===null)&&(L=null);var g=t===v;return k({class:J((H={},T(H,p,!0),T(H,"".concat(p,"-").concat(v+1),!0),T(H,"".concat(p,"-dragging"),g),H)),prefixCls:n,vertical:i,dragging:g,offset:S[v],value:M,index:v,tabindex:L,min:l,max:u,reverse:d,disabled:s,style:C[v],ref:function(E){return a.saveHandle(v,E)},onFocus:a.onFocus,onBlur:a.onBlur,ariaLabel:B[v],ariaLabelledBy:V[v],ariaValueTextFormatter:f[v]})});return{tracks:this.getTrack({bounds:e,prefixCls:n,reverse:d,vertical:i,included:r,offsets:S,trackStyle:y}),handles:h}}}}),ft=Ae(ht),mt=Q({name:"SliderTooltip",inheritAttrs:!1,props:ze(),setup:function(a,t){var e=t.attrs,n=t.slots,i=A(null),r=A(null);function s(){pe.cancel(r.value),r.value=null}function l(){r.value=pe(function(){var d;(d=i.value)===null||d===void 0||d.forcePopupAlign(),r.value=null})}var u=function(){s(),a.visible&&l()};return Pe([function(){return a.visible},function(){return a.title}],function(){u()},{flush:"post",immediate:!0}),We(function(){u()}),Te(function(){s()}),function(){return $(Ye,U(U({ref:i},a),e),n)}}}),Se=globalThis&&globalThis.__rest||function(o,a){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&a.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)a.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},pt=function(a){return typeof a=="number"?a.toString():""},gt=function(){return{id:String,prefixCls:String,tooltipPrefixCls:String,range:{type:[Boolean,Object],default:void 0},reverse:{type:Boolean,default:void 0},min:Number,max:Number,step:{type:[Number,Object]},marks:{type:Object},dots:{type:Boolean,default:void 0},value:{type:[Number,Array]},defaultValue:{type:[Number,Array]},included:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},vertical:{type:Boolean,default:void 0},tipFormatter:{type:[Function,Object],default:function(){return pt}},tooltipVisible:{type:Boolean,default:void 0},tooltipPlacement:{type:String},getTooltipPopupContainer:{type:Function},autofocus:{type:Boolean,default:void 0},handleStyle:{type:[Object,Array]},trackStyle:{type:[Object,Array]},onChange:{type:Function},onAfterChange:{type:Function},onFocus:{type:Function},onBlur:{type:Function},"onUpdate:value":{type:Function}}},bt=Q({name:"ASlider",inheritAttrs:!1,props:gt(),slots:["mark"],setup:function(a,t){var e=t.attrs,n=t.slots,i=t.emit,r=t.expose,s=qe("slider",a),l=s.prefixCls,u=s.rootPrefixCls,d=s.direction,c=s.getPopupContainer,b=s.configProvider,y=Je(),C=A(),x=A({}),B=function(v,H){x.value[v]=H},V=de(function(){return a.tooltipPlacement?a.tooltipPlacement:a.vertical?d.value==="rtl"?"left":"right":"top"}),f=function(){var v;(v=C.value)===null||v===void 0||v.focus()},k=function(){var v;(v=C.value)===null||v===void 0||v.blur()},S=function(v){i("update:value",v),i("change",v),y.onFieldChange()},p=function(v){i("blur",v)};r({focus:f,blur:k});var h=function(v){var H=v.tooltipPrefixCls,L=v.info,g=L.value,R=L.dragging,E=L.index,G=Se(L,["value","dragging","index"]),j=a.tipFormatter,I=a.tooltipVisible,ae=a.getTooltipPopupContainer,m=j?x.value[E]||R:!1,w=I||I===void 0&&m;return $(mt,{prefixCls:H,title:j?j(g):"",visible:w,placement:V.value,transitionName:"".concat(u.value,"-zoom-down"),key:E,overlayClassName:"".concat(l.value,"-tooltip"),getPopupContainer:ae||c.value},{default:function(){return[$(Le,U(U({},G),{},{value:g,onMouseenter:function(){return B(E,!0)},onMouseleave:function(){return B(E,!1)}}),null)]}})};return function(){var M=a.tooltipPrefixCls,v=a.range,H=a.id,L=H===void 0?y.id.value:H,g=Se(a,["tooltipPrefixCls","range","id"]),R=b.getPrefixCls("tooltip",M),E=J(e.class,T({},"".concat(l.value,"-rtl"),d.value==="rtl"));d.value==="rtl"&&!g.vertical&&(g.reverse=!g.reverse);var G;return Ve(v)==="object"&&(G=v.draggableTrack),v?$(ft,U(U({},g),{},{step:g.step,draggableTrack:G,class:E,ref:C,handle:function(I){return h({tooltipPrefixCls:R,prefixCls:l.value,info:I})},prefixCls:l.value,onChange:S,onBlur:p}),{mark:n.mark}):$(ct,U(U({},g),{},{id:L,step:g.step,class:E,ref:C,handle:function(I){return h({tooltipPrefixCls:R,prefixCls:l.value,info:I})},prefixCls:l.value,onChange:S,onBlur:p}),{mark:n.mark})}}}),yt=Xe(bt);function xt(o,a={theme:"default",width:600,height:500,model:"pen",color:"#ffcc00"}){let t=null;const e=A(6),n=A(80),i=A(24),r=Qe({theme:"default",width:600,height:500,model:"pen",color:"#ffcc00"});Object.assign(r,a),console.log("\u{1F680} ~ file: useCanvas.ts ~ line 17 ~ options",r);let s={x:0,y:0},l=!1,u=0,d=-1;const c=A({x:0,y:0}),b=A(!1),y=A(r.width),C=A(r.height),x=de(()=>o.value?y.value/o.value.width:1),B=de(()=>o.value?C.value/o.value.height:1),V=()=>{y.value=r.width,C.value=r.height},f=new ResizeObserver(V);he(()=>{o.value&&f.observe(o.value)}),Ze(()=>{o.value&&f.unobserve(o.value)});const k=()=>{!o.value||(t=o.value.getContext("2d"),t&&(o.value.width=r.width,o.value.height=r.height,t.lineCap="round",t.lineJoin="round"))},S=m=>{!t||(m&&(r.model=m),r.model==="mark"?(t.globalCompositeOperation="xor",t.globalAlpha=.5):r.model==="pen"&&(t.globalCompositeOperation="source-over",t.globalAlpha=1))};Pe(()=>r.model,S);const p=(m,w,N)=>{if(!t)return;const _=s.x,D=s.y;t.lineWidth=N,t.strokeStyle=r.color,t.beginPath(),t.moveTo(_,D),t.lineTo(m,w),t.stroke(),t.closePath()},h=(m,w)=>{if(!t||!o.value)return;const N=s.x,_=s.y,D=n.value/2,K=D*Math.sin(Math.atan((w-_)/(m-N))),z=D*Math.cos(Math.atan((w-_)/(m-N))),X=[N+K,_-z],je=[N-K,_+z],Ie=[m+K,w-z],Ue=[m-K,w+z];t.save(),t.beginPath(),t.arc(m,w,D,0,Math.PI*2),t.clip(),t.clearRect(0,0,o.value.width,o.value.height),t.restore(),t.save(),t.beginPath(),t.moveTo(...X),t.lineTo(...Ie),t.lineTo(...Ue),t.lineTo(...je),t.closePath(),t.clip(),t.clearRect(0,0,o.value.width,o.value.height),t.restore()},M=(m,w)=>{const N=s.x,_=s.y;return Math.sqrt((m-N)*(m-N)+(w-_)*(w-_))},v=(m,w)=>{const D=e.value,K=3,z=m/w;let X;return z<=.1?X=D:z>=10?X=K:X=D-z/10*D,d===-1?X:X*1/3+d*2/3},H=(m,w)=>{const N=new Date().getTime();if(r.model==="pen"){const _=M(m,w),D=N-u,K=v(_,D);p(m,w,K),d=K}else r.model==="mark"?p(m,w,i.value):h(m,w);s={x:m,y:w},u=new Date().getTime()},L=m=>{if(!o.value)return[0,0];const w=m instanceof MouseEvent?m:m.changedTouches[0],N=o.value.getBoundingClientRect(),_=w.pageX-N.x,D=w.pageY-N.y;return[_,D]},g=m=>{const[w,N]=L(m),_=w/x.value,D=N/B.value;l=!0,s={x:_,y:D},u=new Date().getTime(),m instanceof MouseEvent||(c.value={x:w,y:N},b.value=!0)},R=m=>{const[w,N]=L(m),_=w/x.value,D=N/B.value;c.value={x:w,y:N},l&&H(_,D)},E=()=>{!l||(l=!1)},G=()=>{!t||!o.value||t.clearRect(0,0,o.value.width,o.value.height)},j=()=>{var m;return(m=o.value)==null?void 0:m.toDataURL()},I=m=>{const w=new Image;w.src=m,w.onload=()=>{!t||t.drawImage(w,0,0)}},ae=et.exports.throttle(function(m){r.model==="eraser"&&(m.deltaY<0&&n.value<200?n.value+=20:m.deltaY>0&&n.value>20&&(n.value-=20)),r.model==="pen"&&(m.deltaY<0&&e.value<10?e.value+=2:m.deltaY>0&&e.value>4&&(e.value-=2)),r.model==="mark"&&(m.deltaY<0&&i.value<40?i.value+=4:m.deltaY>0&&i.value>16&&(i.value-=4))},300,{leading:!0,trailing:!1});return{initCanvas:k,canvasWidth:y,canvasHeight:C,draw:p,erase:h,mousewheelListener:ae,setImageDataURL:I,getImageDataURL:j,clearCanvas:G,handleMouseup:E,handleMousedown:g,handleMousemove:R,mouseInCanvas:b,updateCtx:S,penSize:e,rubberSize:n,markSize:i,options:r,mouse:c}}const kt=(o,a,t="100",e="100")=>{const n=document.createElement("canvas"),i=n.getContext("2d"),r=new Image;n.width=parseFloat(t),n.height=parseFloat(e),r.crossOrigin="Anonymous",r.src=o,r.onload=()=>{i.clearRect(0,0,i.canvas.width,i.canvas.height),i.drawImage(r,0,0,parseFloat(t),parseFloat(e)),n.toBlob(async s=>{console.log(s);try{const{ClipboardItem:l}=window,u=[new l({[s.type]:s})];await navigator.clipboard.write(u).then(()=>{console.log("Copied to clipboard successfully!"),ge.success("\u590D\u5236\u6210\u529F")},()=>{console.error("Unable to write to clipboard.")})}catch(l){console.error(l),ge.success("\u590D\u5236\u5931\u8D25,\u8BF7\u68C0\u67E5\u60A8\u7684\u6D4F\u89C8\u5668\u662F\u5426\u5F00\u542F\u590D\u5236\u6743\u9650")}})}};const Ct={class:"header"},St=oe("\u753B\u7B14"),Mt=oe("\u6E05\u7A7A\u753B\u5E03"),Vt=oe("\u6A61\u76AE\u64E6"),wt={class:"strokes-width"},Tt=oe(" \u7B14\u753B\u7C97\u7EC6: "),Bt=oe("\u5BFC\u51FA"),Pt={class:"canvas-container"},Ft={key:0,class:"iconfont icon icon-fill"},Ot=Q({__name:"canvas",setup(o){const a=A(),t=A(10),{initCanvas:e,canvasWidth:n,canvasHeight:i,mousewheelListener:r,clearCanvas:s,handleMouseup:l,handleMousedown:u,handleMousemove:d,mouseInCanvas:c,penSize:b,rubberSize:y,markSize:C,options:x,mouse:B,getImageDataURL:V}=xt(a,{width:1e3}),f=p=>{x.model=p},k=()=>{const p=V();console.log("\u{1F680} ~ file: canvas.vue ~ line 107 ~ exportImgUrl ~ url",p),kt(p)},S=p=>{console.log("\u{1F680} ~ file: canvas.vue ~ line 104 ~ changeStrokes ~ e",p),x.model==="eraser"&&(y.value=t.value),x.model==="pen"&&(b.value=t.value),x.model==="mark"&&(C.value=t.value)};return he(()=>{e(),S()}),(p,h)=>{var L;const M=nt,v=yt,H=rt;return Z(),ee("div",null,[le("div",Ct,[$(H,null,{default:ne(()=>[$(M,{type:"primary",onClick:h[0]||(h[0]=g=>f("pen"))},{default:ne(()=>[St]),_:1}),$(M,{type:"primary",onClick:P(s)},{default:ne(()=>[Mt]),_:1},8,["onClick"]),$(M,{type:"primary",onClick:h[1]||(h[1]=g=>f("eraser"))},{default:ne(()=>[Vt]),_:1}),le("div",wt,[Tt,$(v,{value:t.value,"onUpdate:value":h[2]||(h[2]=g=>t.value=g),min:5,max:50,onChange:S},null,8,["value"])]),$(M,{type:"primary",onClick:k},{default:ne(()=>[Bt]),_:1})]),_:1})]),le("div",Pt,[le("canvas",{ref_key:"canvasRef",ref:a,style:ue({width:P(n)+"px",height:P(i)+"px"}),onMousedown:h[3]||(h[3]=g=>P(u)(g)),onMousemove:h[4]||(h[4]=g=>P(d)(g)),onMouseup:h[5]||(h[5]=g=>P(l)()),onTouchstart:h[6]||(h[6]=g=>P(u)(g)),onTouchmove:h[7]||(h[7]=g=>P(d)(g)),onTouchend:h[8]||(h[8]=g=>{P(l)(),c.value=!1}),onMouseleave:h[9]||(h[9]=g=>{P(l)(),c.value=!1}),onMouseenter:h[10]||(h[10]=g=>c.value=!0),onWheel:h[11]||(h[11]=g=>P(r)(g))},null,36),P(c)?(Z(),ee(at,{key:0},[P(x)&&((L=P(x))==null?void 0:L.model)==="eraser"?(Z(),ee("div",{key:0,class:"eraser",style:ue({left:P(B).x-P(y)/2+"px",top:P(B).y-P(y)/2+"px",width:P(y)+"px",height:P(y)+"px"})},null,4)):re("",!0),P(x).model==="pen"?(Z(),ee("div",{key:1,class:"pen",style:ue({left:P(B).x+"px",top:P(B).y+"px",color:P(x).color})},[P(x).model==="pen"?(Z(),ee("i",Ft)):re("",!0)],4)):re("",!0),P(x).model==="mark"?(Z(),ee("div",{key:2,class:"pen",style:ue({left:P(B).x+"px",top:P(B).y+"px",color:P(x).color})},null,4)):re("",!0)],64)):re("",!0)])])}}});var Lt=tt(Ot,[["__scopeId","data-v-a98a31fa"]]);export{Lt as default};
