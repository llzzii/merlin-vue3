import{c as d,A as ut,d as w,u as oe,r as L,p as Ge,S as Ue,a as I,_ as M,b as ne,e as dt,i as ft,f as pt,w as ae,g as _t,o as Ve,h as ht,j as mt,k as ke,R as $e,L as Ee,l as De,P as E,t as Re,m as B,n as R,q as v,s as P,v as F,x as le,y as ie,z as O,B as z,C as Ke,D as b,H as vt,E as ce,F as S,G as h,I as D,J as T,K as ue,M as j,N as J,O as gt,Q as N,T as Je,U as Me,V as re,W as Ae,X as bt,Y as yt,Z as xt,$ as Ot,a0 as Qe,a1 as de,a2 as fe,a3 as St,a4 as Ct,a5 as wt,a6 as Lt,a7 as Pt,a8 as kt,a9 as $t,aa as Et,ab as Xe,ac as Dt,ad as Rt,ae as Mt}from"./index.efc8215b.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               */var At={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},It=At;function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Ft(t,r,n[r])})}return t}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pe=function(e,n){var a=Ie({},e,n.attrs);return d(ut,Ie({},a,{icon:It}),null)};pe.displayName="BarsOutlined";pe.inheritAttrs=!1;var Tt=pe,_e=function(){return{prefixCls:String,hasSider:{type:Boolean,default:void 0},tagName:String}};function Q(t){var e=t.suffixCls,n=t.tagName,a=t.name;return function(r){var f=w({name:a,props:_e(),setup:function(l,p){var o=p.slots,c=oe(e,l),s=c.prefixCls;return function(){var _=ne(ne({},l),{prefixCls:s.value,tagName:n});return d(r,_,o)}}});return f}}var he=w({props:_e(),setup:function(e,n){var a=n.slots;return function(){return d(e.tagName,{class:e.prefixCls},a)}}}),jt=w({props:_e(),setup:function(e,n){var a=n.slots,r=oe("",e),f=r.direction,i=L([]),l={addSider:function(c){i.value=[].concat(dt(i.value),[c])},removeSider:function(c){i.value=i.value.filter(function(s){return s!==c})}};Ge(Ue,l);var p=I(function(){var o,c=e.prefixCls,s=e.hasSider;return o={},M(o,"".concat(c),!0),M(o,"".concat(c,"-has-sider"),typeof s=="boolean"?s:i.value.length>0),M(o,"".concat(c,"-rtl"),f.value==="rtl"),o});return function(){var o=e.tagName;return d(o,{class:p.value},a)}}}),Bt=Q({suffixCls:"layout",tagName:"section",name:"ALayout"})(jt),G=Q({suffixCls:"layout-header",tagName:"header",name:"ALayoutHeader"})(he),ee=Q({suffixCls:"layout-footer",tagName:"footer",name:"ALayoutFooter"})(he),U=Q({suffixCls:"layout-content",tagName:"main",name:"ALayoutContent"})(he),te=Bt,Fe={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px",xxxl:"1999.98px"},zt=function(){return{prefixCls:String,collapsible:{type:Boolean,default:void 0},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean,default:void 0},reverseArrow:{type:Boolean,default:void 0},zeroWidthTriggerStyle:{type:Object,default:void 0},trigger:E.any,width:E.oneOfType([E.number,E.string]),collapsedWidth:E.oneOfType([E.number,E.string]),breakpoint:E.oneOf(Re("xs","sm","md","lg","xl","xxl","xxxl")),theme:E.oneOf(Re("light","dark")).def("dark"),onBreakpoint:Function,onCollapse:Function}},Nt=function(){var t=0;return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t+=1,"".concat(e).concat(t)}}(),V=w({name:"ALayoutSider",inheritAttrs:!1,props:ft(zt(),{collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80}),emits:["breakpoint","update:collapsed","collapse"],setup:function(e,n){var a=n.emit,r=n.attrs,f=n.slots,i=oe("layout-sider",e),l=i.prefixCls,p=pt(Ue,void 0),o=L(!!(e.collapsed!==void 0?e.collapsed:e.defaultCollapsed)),c=L(!1);ae(function(){return e.collapsed},function(){o.value=!!e.collapsed}),Ge(_t,o);var s=function(g,$){e.collapsed===void 0&&(o.value=g),a("update:collapsed",g),a("collapse",g,$)},_=L(function(y){c.value=y.matches,a("breakpoint",y.matches),o.value!==y.matches&&s(y.matches,"responsive")}),u;function m(y){return _.value(y)}var C=Nt("ant-sider-");p&&p.addSider(C),Ve(function(){ae(function(){return e.breakpoint},function(){try{u==null||u.removeEventListener("change",m)}catch{u==null||u.removeListener(m)}if(typeof window!="undefined"){var y=window,g=y.matchMedia;if(g&&e.breakpoint&&e.breakpoint in Fe){u=g("(max-width: ".concat(Fe[e.breakpoint],")"));try{u.addEventListener("change",m)}catch{u.addListener(m)}m(u)}}},{immediate:!0})}),ht(function(){try{u==null||u.removeEventListener("change",m)}catch{u==null||u.removeListener(m)}p&&p.removeSider(C)});var x=function(){s(!o.value,"clickTrigger")};return function(){var y,g,$,k=l.value,we=e.collapsedWidth,tt=e.width,X=e.reverseArrow,nt=e.zeroWidthTriggerStyle,Le=e.trigger,W=Le===void 0?(g=f.trigger)===null||g===void 0?void 0:g.call(f):Le,Pe=e.collapsible,at=e.theme,Y=o.value?we:tt,A=mt(Y)?"".concat(Y,"px"):String(Y),Z=parseFloat(String(we||0))===0?d("span",{onClick:x,class:ke("".concat(k,"-zero-width-trigger"),"".concat(k,"-zero-width-trigger-").concat(X?"right":"left")),style:nt},[W||d(Tt,null,null)]):null,rt={expanded:X?d($e,null,null):d(Ee,null,null),collapsed:X?d(Ee,null,null):d($e,null,null)},st=o.value?"collapsed":"expanded",ot=rt[st],lt=W!==null?Z||d("div",{class:"".concat(k,"-trigger"),onClick:x,style:{width:A}},[W||ot]):null,it=[r.style,{flex:"0 0 ".concat(A),maxWidth:A,minWidth:A,width:A}],ct=ke(k,"".concat(k,"-").concat(at),(y={},M(y,"".concat(k,"-collapsed"),!!o.value),M(y,"".concat(k,"-has-trigger"),Pe&&W!==null&&!Z),M(y,"".concat(k,"-below"),!!c.value),M(y,"".concat(k,"-zero-width"),parseFloat(A)===0),y),r.class);return d("aside",De(De({},r),{},{class:ct,style:it}),[d("div",{class:"".concat(k,"-children")},[($=f.default)===null||$===void 0?void 0:$.call(f)]),Pe||c.value&&Z?lt:null])}}}),Ht=G,qt=V,Wt=U,Gt=ne(te,{Header:G,Footer:ee,Content:U,Sider:V,install:function(e){return e.component(te.name,te),e.component(G.name,G),e.component(ee.name,ee),e.component(V.name,V),e.component(U.name,U),e}}),Ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Vt=Ut;function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Kt(t,r,n[r])})}return t}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var me=function(e,n){var a=Te({},e,n.attrs);return d(B,Te({},a,{icon:Vt}),null)};me.displayName="CloseOutlined";me.inheritAttrs=!1;var Jt=me,Qt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},Xt=Qt;function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){Yt(t,r,n[r])})}return t}function Yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ve=function(e,n){var a=je({},e,n.attrs);return d(B,je({},a,{icon:Xt}),null)};ve.displayName="DoubleLeftOutlined";ve.inheritAttrs=!1;var Zt=ve,en={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},tn=en;function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){nn(t,r,n[r])})}return t}function nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ge=function(e,n){var a=Be({},e,n.attrs);return d(B,Be({},a,{icon:tn}),null)};ge.displayName="DoubleRightOutlined";ge.inheritAttrs=!1;var an=ge,rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},sn=rn;function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){on(t,r,n[r])})}return t}function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var be=function(e,n){var a=ze({},e,n.attrs);return d(B,ze({},a,{icon:sn}),null)};be.displayName="DownOutlined";be.inheritAttrs=!1;var ln=be,cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},un=cn;function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){dn(t,r,n[r])})}return t}function dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye=function(e,n){var a=Ne({},e,n.attrs);return d(B,Ne({},a,{icon:un}),null)};ye.displayName="MinusOutlined";ye.inheritAttrs=!1;var fn=ye,pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},_n=pn;function He(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),a.forEach(function(r){hn(t,r,n[r])})}return t}function hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xe=function(e,n){var a=He({},e,n.attrs);return d(B,He({},a,{icon:_n}),null)};xe.displayName="RedoOutlined";xe.inheritAttrs=!1;var qe=xe;var mn="/assets/logo.88652457.png";const Ye=t=>(le("data-v-22421436"),t=t(),ie(),t),vn={class:"logo"},gn=Ye(()=>O("img",{class:"logo__img",src:mn},null,-1)),bn={key:0,style:{"margin-left":"8px",width:"127px"}},yn=Ye(()=>O("h1",{class:"logo__title"},"Merlin",-1)),xn=[yn],On={name:"Logo"},Sn=w({...On,props:["collapsed"],setup(t){const{collapsed:e}=t;return console.log(e),(n,a)=>(v(),P("div",vn,[gn,t.collapsed?F("",!0):(v(),P("div",bn,xn))]))}});var Cn=R(Sn,[["__scopeId","data-v-22421436"]]);const Oe=w({__name:"IconfontIcon",props:{class:{default:""},color:{default:"#000000d9"},size:{default:16}},setup(t){const e=t,n=I(()=>{const{size:a,color:r}=e;let f=a;return typeof a=="string"&&(f=parseInt(a,10)),{fontSize:`${f}px`,color:r,display:"inline-flex"}});return(a,r)=>(v(),P("i",{class:z([e.class,"iconfont ml-icon"]),style:Ke(b(n))},null,6))}}),wn=new vt,Ln=wn.useRequest,Pn=()=>Ln({url:"/basic-api/system/getMenuList",timeout:1e3,method:"get"}),kn={name:"SubMenu"},$n=w({...kn,props:["menuInfo","key"],setup(t){return(e,n)=>{const a=Oe,r=J,f=ce("SubMenu"),i=gt;return v(),S(i,{key:t.menuInfo.path},{icon:h(()=>[t.menuInfo.icon?(v(),S(a,{key:0,class:z(t.menuInfo.icon),color:"#fff",size:18},null,8,["class"])):F("",!0)]),title:h(()=>[D(T(t.menuInfo.name),1)]),default:h(()=>[(v(!0),P(j,null,ue(t.menuInfo.children,l=>(v(),P(j,{key:l.path},[!l.children||l.children.length==0?(v(),S(r,{key:l.path},{icon:h(()=>[l.icon?(v(),S(a,{key:0,class:z(l.icon),color:"#fff",size:18},null,8,["class"])):F("",!0)]),default:h(()=>[D(" "+T(l.name),1)]),_:2},1024)):(v(),S(f,{"menu-info":l,key:l.path},null,8,["menu-info"]))],64))),128))]),_:1})}}}),En={id:"id",children:"children",pid:"pid"},Se=t=>Object.assign({},En,t);function Dn(t,e,n={}){n=Se(n);const{children:a}=n,r=[...t];for(const f of r){if(e(f))return f;f[a]&&r.push(...f[a])}return null}function Rn(t,e,n={}){n=Se(n);const a=[],r=[...t],f=new Set,{children:i}=n;for(;r.length;){const l=r[0];if(f.has(l))a.pop(),r.shift();else if(f.add(l),l[i]&&r.unshift(...l[i]),a.push(l),e(l))return a}return null}function se(t,e){return(Rn(t,a=>a.path===e)||[]).map(a=>a.path)}function Mn(t,e,n={}){n=Se(n);const a=n.children;function r(f){return f.map(i=>({...i})).filter(i=>(i[a]=i[a]&&r(i[a]),e(i)||i[a]&&i[a].length))}return r(t)}var K=(t=>(t.BASE_LOGIN="/login",t.BASE_HOME="/dashboard",t.ERROR_PAGE="/exception",t.ERROR_LOG_PAGE="/error-log/list",t))(K||{});const Ze="Redirect",We="Redirect",An=t=>{const{push:e,currentRoute:n}=t||N(),{query:a,params:r={},name:f,fullPath:i}=b(n.value);function l(){return new Promise(p=>{if(f===We){p(!1);return}f&&Object.keys(r).length>0?(r._redirect_type="name",r.path=String(f)):(r._redirect_type="path",r.path=i),e({name:We,params:r,query:a}).then(()=>p(!0))})}return l},In=t=>{const e=H(),n=t||N(),{currentRoute:a}=n;return{getCurrentMenu:()=>{const i=b(a);return e.getTabList.find(l=>l.fullPath===i.fullPath)},refreshPage:async()=>{await e.refreshPage(n)}}},H=Je({id:"menu",state:()=>({menuData:[],cacheTabList:new Set,tabList:Me().get("tabList")||[],lastDragEndIndex:0,reloadFlag:!0}),getters:{getMenuData(){return this.menuData||[]},getTabList(){return this.tabList},getCachedTabList(){return Array.from(this.cacheTabList)},getLastDragEndIndex(){return this.lastDragEndIndex}},actions:{setMenuData(t){this.menuData=re.merge(this.menuData||[],t)},addTab(t){var o,c;const{path:e,name:n,fullPath:a,params:r,query:f,meta:i}=Ae(t);if(e===K.ERROR_PAGE||e===K.BASE_LOGIN||!n||[bt.name].includes(n))return;let l=-1;if(this.tabList.some((s,_)=>(l=_,(s.fullPath||s.path)===(a||e)))){const s=yt(this.tabList)[l];if(!s)return;s.params=r||s.params,s.query=f||s.query,s.fullPath=a||s.fullPath,this.tabList.splice(l,1,s)}else{const s=(o=i==null?void 0:i.dynamicLevel)!=null?o:-1;if(s>0){const _=(c=i==null?void 0:i.realPath)!=null?c:"";if(this.tabList.filter(u=>{var m,C;return(C=(m=u.meta)==null?void 0:m.realPath)!=null?C:_===""}).length>=s){const u=this.tabList.findIndex(m=>m.meta.realPath===_);u!==-1&&this.tabList.splice(u,1)}}this.tabList.push(t)}this.updateCacheTab()},updateCacheTab(){var e;const t=new Set;for(const n of this.tabList){const a=Ae(n);if(!!((e=a.meta)!=null&&e.ignoreKeepAlive))continue;const f=a.name;t.add(f)}this.cacheTabList=t,Me().set("tabList",this.tabList)},async closeTab(t,e){const n=p=>{const{fullPath:o,meta:{affix:c}}=p;if(c)return;const s=this.tabList.findIndex(_=>_.fullPath===o);s>-1&&this.tabList.splice(s,1)},{currentRoute:a,replace:r}=e,{path:f}=a.value;if(f!==t.path){n(t),this.updateCacheTab();return}let i={};const l=this.tabList.findIndex(p=>p.path===f);l===0?this.tabList.length===0?i=K.BASE_HOME:i=this.tabList[l+1]:i=this.tabList[l-1],n(t),this.updateCacheTab(),await r(i)},async closeTabByKey(t,e){const n=this.tabList.findIndex(a=>(a.fullPath||a.path)===t);n!==-1&&await this.closeTab(this.tabList[n],e)},async refreshPage(t){const{currentRoute:e}=t,a=b(e).name,r=this.getCachedTabList.find(i=>i===a);r&&this.cacheTabList.delete(r),await An(t)()}}});const Fn={class:"ml-menu"},Tn=w({__name:"index",setup(t){const e=xt(),n=Ot({defaultSelectedKeys:["/dashboard"],openKeys:[],selectedKeys:[e.fullPath],collapsedOpenKeys:[]}),{run:a,data:r}=Pn(),f=N(),i=H(),l=L(""),p=({key:s})=>{f.push(s)},o=async s=>{if(!b(r))return;const _=await se(b(r),s);n.openKeys=_};Qe(s=>{var _;c(s),l.value=(_=s.meta)==null?void 0:_.currentActiveMenu,b(l)&&(n.selectedKeys=[b(l)],o(b(l)))});async function c(s){var m;const _=((m=(s||b(e)).meta)==null?void 0:m.currentActiveMenu)||(s||b(e)).path;if(o(_),b(l)||!b(r))return;const u=await se(b(r),_);n.selectedKeys=u}return Ve(async()=>{await a(),i.setMenuData(b(r)),o(e.path),Dn(b(r),s=>s.path==="/dashboard")}),(s,_)=>{const u=Oe,m=J,C=de;return v(),P("div",Fn,[d(C,{"open-keys":n.openKeys,"onUpdate:open-keys":_[0]||(_[0]=x=>n.openKeys=x),"selected-keys":n.selectedKeys,"onUpdate:selected-keys":_[1]||(_[1]=x=>n.selectedKeys=x),mode:"inline",theme:"dark",onClick:p},{default:h(()=>[(v(!0),P(j,null,ue(b(r),x=>(v(),P(j,{key:x.path},[!x.children||x.children.length==0?(v(),S(m,{key:x.path},{icon:h(()=>[x.icon?(v(),S(u,{key:0,color:"#fff",size:18,class:z(x.icon)},null,8,["class"])):F("",!0)]),default:h(()=>[D(" "+T(x.name),1)]),_:2},1024)):(v(),S($n,{key:x.path,"menu-info":x},null,8,["menu-info"]))],64))),128))]),_:1},8,["open-keys","selected-keys"])])}}});var jn=R(Tn,[["__scopeId","data-v-676bbea2"]]);const et=Je({id:"app",state:()=>({projectConfig:{menuSetting:{collapsed:!1},headerSetting:{}}}),getters:{getProjectConfig(){return this.projectConfig||{}},getMenuSetting(){var t;return((t=this.projectConfig)==null?void 0:t.menuSetting)||{}},getHeaderSetting(){return this.getProjectConfig.headerSetting||{}}},actions:{setProjectConfig(t){this.projectConfig=re.merge(this.projectConfig||{},t)},setMenuConfig(t){this.projectConfig=re.merge(this.projectConfig||{},{menuSetting:t})}}}),Bn=["onClick"],zn=w({__name:"index",setup(t){const e=et(),n=L(e.getMenuSetting.collapsed),a=()=>{n.value=!n.value,e.setMenuConfig({collapsed:n.value})};return(r,f)=>{const i=qt;return v(),S(i,{ref:"sideRef",breakpoint:"lg",collapsible:"",collapsed:n.value,theme:"dark"},{trigger:h(()=>[O("div",{onClick:fe(a,["stop"])},[n.value?(v(),S(b(an),{key:0})):(v(),S(b(Zt),{key:1}))],8,Bn)]),default:h(()=>[d(Cn,{collapsed:n.value},null,8,["collapsed"]),d(jn)]),_:1},8,["collapsed"])}}});const Nn={key:0},Hn=w({__name:"index",setup(t){const e=L([]),n=H(),{currentRoute:a,push:r}=N();St(()=>{var C,x,y;const l=n.getMenuData;if(a.value.name===Ze)return;const p=a.value.matched,o=p==null?void 0:p[p.length-1];let c=a.value.path;o&&((C=o==null?void 0:o.meta)==null?void 0:C.currentActiveMenu)&&(c=o.meta.currentActiveMenu);const s=se(l,c),_=l.filter(g=>g.path===s[0]),u=Ct(_,s);if(!u||u.length===0)return;const m=f(u);(x=a.value.meta)!=null&&x.currentActiveMenu&&m.push({...a.value,name:((y=a.value.meta)==null?void 0:y.title)||a.value.name}),e.value=m});const f=l=>Mn(l,p=>{const{meta:o,name:c}=p;if(!o)return!!c;const{title:s,hideBreadcrumb:_,hideMenu:u}=o;return!(!s||_||u)}).filter(p=>{var o;return!((o=p.meta)!=null&&o.hideBreadcrumb)}),i=(l,p,o)=>{o==null||o.preventDefault();const{children:c,redirect:s,meta:_}=l;if((c==null?void 0:c.length)&&!s){o==null||o.stopPropagation();return}if(!(_!=null&&_.carryParam))if(s&&wt(s))r(s);else{let u="";p.length===1?u=p[0]:u=`${p.slice(1).pop()||""}`,u=/^\//.test(u)?u:`/${u}`,r(u)}};return(l,p)=>{const o=ce("router-link"),c=Lt;return v(),S(c,{class:"ml-breadcrumb",routes:e.value},{itemRender:h(({route:s,paths:_,routes:u})=>{var m;return[(m=s==null?void 0:s.meta)!=null&&m.hideBreadcrumb?F("",!0):(v(),P(j,{key:0},[u.indexOf(s)===u.length-1?(v(),P("span",Nn,T(s.name||s.meta.title),1)):(v(),S(o,{key:1,to:"",onClick:C=>i(s,_,C)},{default:h(()=>[D(T(s.name||s.meta.title),1)]),_:2},1032,["onClick"]))],64))]}),_:1},8,["routes"])}}});var qn=R(Hn,[["__scopeId","data-v-a8b126ec"]]);const Wn=t=>{let e;if("Notification"in window)Notification.permission==="granted"?(e=new Notification(t.title,t),console.log("\u{1F680} ~ file: useDesktopMsg.ts ~ line 17 ~ useDesktopMsg ~ notification",e),e.onclick=function(){t.cb(),e.close()}):Notification.permission!=="denied"?Notification.requestPermission().then(function(n){n==="granted"&&(e=new Notification(t.title,t),e.onclick=function(){t.cb(),e.close()})}):(Notification.requestPermission(),console.log("\u6CA1\u6709\u6743\u9650,\u7528\u6237\u62D2\u7EDD:Notification"));else{Pt.warn("This browser does not support desktop notification");return}return e},Gn=()=>{const t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},Un=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},Vn=()=>!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement);var Kn="/assets/tz.24477da9.gif";const q=t=>(le("data-v-1ca07d4f"),t=t(),ie(),t),Jn=q(()=>O("a",{class:"h-btn",href:"https://github.com/llzzii/merlin-vue3-template",target:"_blank"},[O("i",{class:"iconfont icon-github-fill"})],-1)),Qn=q(()=>O("i",{class:"iconfont icon-tongzhi"},null,-1)),Xn=q(()=>O("a",{class:"h-btn"},[O("i",{class:"iconfont icon-zhuti_o"})],-1)),Yn=q(()=>O("i",{class:"iconfont icon-suoping"},null,-1)),Zn=[Yn],ea=q(()=>O("a",{class:"h-btn"},[O("i",{class:"iconfont icon-xitong"})],-1)),ta=D(" Merlin "),na=D(" \u7CFB\u7EDF\u914D\u7F6E "),aa=D(" \u4E2A\u4EBA\u4E2D\u5FC3 "),ra=D("\u9000\u51FA\u767B\u5F55"),sa=w({__name:"index",setup(t){const e=L(Vn()),n=L(10),a=kt(),r=()=>{e.value?(Un(),e.value=!1):(Gn(),e.value=!0)},f=()=>{let p=Wn({title:"\u901A\u77E5",body:"\u8D77\u6765\u8DF3\u4E2A\u821E\u5427",icon:Kn,cb:()=>{n.value--}});p&&(p.onerror=o=>{console.log(o)})},i=()=>{a.setLockStatus(!0),console.log("\u{1F680} ~ file: index.vue ~ line 82 ~ lockScreen ~ userStore",a.getLockStatus)};return(l,p)=>{const o=$t,c=Et,s=J,_=de,u=Xe,m=Dt;return v(),S(m,{class:"header-r-buttons"},{default:h(()=>[Jn,O("a",{class:"h-btn",onClick:r},[O("i",{class:z(["iconfont",{"icon-fullscreen-expand":!e.value,"icon-fullscreen-shrink":e.value}])},null,2)]),O("a",{class:"h-btn",onClick:f},[d(o,{count:n.value},{default:h(()=>[Qn]),_:1},8,["count"])]),Xn,O("a",{class:"h-btn",onClick:i},Zn),ea,d(u,{trigger:["click"],class:"h-btn"},{overlay:h(()=>[d(_,null,{default:h(()=>[d(s,{key:"0"},{default:h(()=>[na]),_:1}),d(s,{key:"1"},{default:h(()=>[aa]),_:1}),d(s,{key:"3"},{default:h(()=>[ra]),_:1})]),_:1})]),default:h(()=>[O("a",{class:"ant-dropdown-link",onClick:p[0]||(p[0]=fe(()=>{},["prevent"]))},[d(c,{class:"icon-avatar",src:"https://joeschmoe.io/api/v1/random"}),ta])]),_:1})]),_:1})}}});var oa=R(sa,[["__scopeId","data-v-1ca07d4f"]]);const Ce=t=>(le("data-v-5b5168a2"),t=t(),ie(),t),la={class:"ml-tab-views"},ia=Ce(()=>O("span",{class:"dropdown-title"},"\u91CD\u65B0\u52A0\u8F7D",-1)),ca=Ce(()=>O("span",{class:"dropdown-title"},"\u5173\u95ED\u5F53\u524D\u9875",-1)),ua=Ce(()=>O("span",{class:"dropdown-title"},"\u5173\u95ED\u5168\u90E8\u9875",-1)),da=w({__name:"index",setup(t){const e=H(),n=N(),a=L(!1),r=L(""),f=I(()=>e.getTabList.filter(c=>{var s;return!((s=c.meta)!=null&&s.hideTab)}));Qe(c=>{const{name:s,path:_,fullPath:u,meta:{hideTab:m,currentActiveMenu:C}}=c;if(!c||s===Ze)return;let x=m?C:null,y=x||_||u;if(r.value!==y&&(r.value=y),!x)e.addTab(b(c));else{let g=n.getRoutes().find($=>$.path===C);g&&e.addTab(g)}});const i=c=>{r.value=c;const{push:s,replace:_}=n;s(c)},{refreshPage:l}=In(),p=async c=>{a.value=!0,console.log("click",c,a),c.key=="refresh"&&await l(),a.value=!1,console.log("click",a)},o=c=>{e.closeTabByKey(c,n)};return(c,s)=>{const _=Oe,u=Rt,m=J,C=de,x=Xe,y=Mt;return v(),P("div",la,[d(y,{type:"editable-card",size:"small",animated:!1,hideAdd:!0,tabBarGutter:3,activeKey:r.value,onChange:i,onEdit:o},{rightExtra:h(()=>[O("span",{class:"refresh-page",onClick:s[0]||(s[0]=g=>p({key:"refresh"}))},[d(b(qe),{spin:a.value},null,8,["spin"])]),d(x,null,{overlay:h(()=>[d(C,{onClick:p},{default:h(()=>[d(m,{key:"refresh"},{default:h(()=>[d(b(qe),{spin:a.value},null,8,["spin"]),ia]),_:1}),d(m,{key:"2"},{default:h(()=>[d(b(Jt)),ca]),_:1}),d(m,{key:"3"},{default:h(()=>[d(b(fn)),ua]),_:1})]),_:1})]),default:h(()=>[O("span",{class:"refresh-page",onClick:s[1]||(s[1]=fe(()=>{},["prevent"]))},[d(b(ln))])]),_:1})]),default:h(()=>[(v(!0),P(j,null,ue(b(f),g=>(v(),S(u,{key:g.query?g.fullPath:g.path,closable:!(g&&g.meta&&g.meta.affix)},{tab:h(()=>[D(T(g.meta.title),1)]),closeIcon:h(()=>[g&&g.meta&&g.meta.affix?F("",!0):(v(),S(_,{key:0,class:"icon-close",color:"#fff",size:12}))]),_:2},1032,["closable"]))),128))]),_:1},8,["activeKey"])])}}});var fa=R(da,[["__scopeId","data-v-5b5168a2"]]);const pa={class:"header"},_a={class:"header-left"},ha={class:"header-right"},ma=w({__name:"index",setup(t){const e=et(),n=I(()=>e.getMenuSetting.collapsed),a=I(()=>n.value?"80px":"200px");return(r,f)=>{const i=Ht;return v(),S(i,{class:"ml-header",style:Ke({width:"calc(100% - "+b(a)+")"})},{default:h(()=>[O("div",pa,[O("div",_a,[d(qn)]),O("div",ha,[d(oa)])]),d(fa)]),_:1},8,["style"])}}});var va=R(ma,[["__scopeId","data-v-00b962b6"]]);const ga=w({__name:"index",setup(t){const e=H();return L(!1),ae(()=>e.reloadFlag,n=>{console.log("\u{1F680} ~ file: index.vue ~ line 33 ~ getCachedTabList e",n)}),I(()=>(console.log("\u{1F680} ~ file: index.vue ~ line 42 ~ getCaches ~  menuStore.getCachedTabList",e.getCachedTabList),e.getCachedTabList)),(n,a)=>{const r=ce("RouterView");return v(),S(r)}}});var ba=R(ga,[["__scopeId","data-v-a3493140"]]);const ya={name:"Layout"},xa=w({...ya,setup(t){return(e,n)=>{const a=Wt,r=Gt;return v(),S(r,{class:"ml-layout"},{default:h(()=>[d(zn),d(r,{class:"ml-layout-main"},{default:h(()=>[d(va),d(a,{class:"ml-layout-content"},{default:h(()=>[d(ba)]),_:1})]),_:1})]),_:1})}}});var Pa=R(xa,[["__scopeId","data-v-6a919f72"]]);export{Pa as default};
